# 06. NFS, FUSE

Цель: развернуть сервис NFS и подключить к нему клиента;

[методичка](https://docs.google.com/document/d/1Xz7dCWSzaM8Q0VzBt78K3emh7zlNX3C-Q27B6UuVexI/edit)

## Описание

 * vagrant up должен поднимать 2 настроенных виртуальных машины (сервер NFS и клиента) без дополнительных ручных действий; - на сервере NFS должна быть подготовлена и экспортирована директория;

* в экспортированной директории должна быть поддиректория с именем upload с правами на запись в неё;

* экспортированная директория должна автоматически монтироваться на клиенте при старте виртуальной машины (systemd, autofs или fstab - любым способом);

* монтирование и работа NFS на клиенте должна быть организована с использованием NFSv3 по протоколу UDP;

* firewall должен быть включен и настроен как на клиенте, так и на сервере.


## Script

```bash
scriptreplay --timing=timing.log --divisor=5 script.log
```

## Tutorial

Создаем внутренню сеть в VirtualBox:

1) Файл -> Инструменты -> Meнеджер сетей -> вкладка "Сети NAT"

2) Создать -> Имя "net1", IPv4 префикс "192.168.50.0/24" -> Применить


Запускаем виртуальные машины

```bash
vagrant up
vagrant status
# Current machine states:
#
# nfss                      running (virtualbox)
# nfsc                      running (virtualbox)
```

Ошибка в методичке в команде
```bash
echo "192.168.56.10:/srv/share/ /mnt nfs vers=3,proto=udp,noauto,x-systemd.automount 0 0" >> /etc/fstab
```
192.168.56.10 необходимо заменить на 192.168.50.10
