Script started on 2023-09-18 07:45:29+03:00 [TERM="tmux-256color" TTY="/dev/pts/2" COLUMNS="204" LINES="54"]
[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ 
[?2004l[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ 
[?2004l[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ 
[?2004l[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ 
[?2004l[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ vagr[K[K[K[Kcat Vagrantfile 
[?2004l[?1049h[?1h=[38;5;238mâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[m
       [38;5;238mâ”‚ [0mFile: [1mVagrantfile[0m[m
[38;5;238mâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[m
[38;5;238m   1[0m   [38;5;238mâ”‚[0m [38;2;117;113;94m#[0m[38;2;117;113;94m -*- mode: ruby -*-[0m[m
[38;5;238m   2[0m   [38;5;238mâ”‚[0m [38;2;117;113;94m#[0m[38;2;117;113;94m vim: set ft=ruby :[0m[m
[38;5;238m   3[0m   [38;5;238mâ”‚[0m [m
[38;5;238m   4[0m   [38;5;238mâ”‚[0m [38;2;166;226;46mMACHINES[0m[38;2;248;248;242m [0m[38;2;249;38;114m=[0m[38;2;248;248;242m [0m[38;2;248;248;242m{[0m[m
[38;5;238m   5[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m  [0m[38;2;246;240;128m:[0m[38;2;246;240;128mrouter1[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;248;248;242m{[0m[m
[38;5;238m   6[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mbox_name[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mubuntu/focal64[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[m
[38;5;238m   7[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mvm_name[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mrouter1[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[m
[38;5;238m   8[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mnet[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;248;248;242m[[0m[m
[38;5;238m   9[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m10.0.10.1[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m2[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.252[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mr1-r2[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  10[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m10.0.12.1[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m3[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.252[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mr1-r3[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  11[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m192.168.10.1[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m4[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.0[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mnet1[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  12[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m192.168.56.10[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m5[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  13[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                [0m[38;2;248;248;242m][0m[m
[38;5;238m  14[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m  [0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  15[0m   [38;5;238mâ”‚[0m [m
[38;5;238m  16[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m  [0m[38;2;246;240;128m:[0m[38;2;246;240;128mrouter2[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;248;248;242m{[0m[m
[38;5;238m  17[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mbox_name[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mubuntu/focal64[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[m
[38;5;238m  18[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mvm_name[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mrouter2[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[m
[38;5;238m  19[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mnet[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;248;248;242m[[0m[m
[38;5;238m  20[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m10.0.10.2[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m2[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.252[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mr1-r2[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  21[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m10.0.11.2[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m3[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.252[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mr2-r3[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  22[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m192.168.20.1[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m4[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.0[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mnet2[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  23[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m192.168.56.11[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m5[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  24[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                [0m[38;2;248;248;242m][0m[m
[38;5;238m  25[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m  [0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  26[0m   [38;5;238mâ”‚[0m [m
[38;5;238m  27[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m  [0m[38;2;246;240;128m:[0m[38;2;246;240;128mrouter3[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;248;248;242m{[0m[m
[38;5;238m  28[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mbox_name[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mubuntu/focal64[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[m
[38;5;238m  29[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mvm_name[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mrouter3[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[m
[38;5;238m  30[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;246;240;128m:[0m[38;2;246;240;128mnet[0m[38;2;248;248;242m [0m[38;2;248;248;242m=>[0m[38;2;248;248;242m [0m[38;2;248;248;242m[[0m[m
[38;5;238m  31[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m10.0.11.1[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m2[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.252[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mr2-r3[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  32[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m10.0.12.2[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m3[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.252[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mr1-r3[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  33[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m192.168.30.1[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m4[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mnetmask[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116m255.255.255.0[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128mvirtualbox__intnet[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mnet3[0m[38;2;249;38;114m"[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  34[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                   [0m[38;2;248;248;242m{[0m[38;2;246;240;128mip[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;249;38;114m'[0m[38;2;230;219;116m192.168.56.12[0m[38;2;249;38;114m'[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;246;240;128madapter[0m[38;2;246;240;128m:[0m[38;2;248;248;242m [0m[38;2;190;132;255m5[0m[38;2;248;248;242m}[0m[38;2;248;248;242m,[0m[m
[38;5;238m  35[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m                [0m[38;2;248;248;242m][0m[m
[38;5;238m  36[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m  [0m[38;2;248;248;242m}[0m[m
[38;5;238m  37[0m   [38;5;238mâ”‚[0m [m
[38;5;238m  38[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m}[0m[m
[38;5;238m  39[0m   [38;5;238mâ”‚[0m [m
[38;5;238m  40[0m   [38;5;238mâ”‚[0m [38;2;102;217;239mVagrant[0m[38;2;248;248;242m.[0m[38;2;248;248;242mconfigure[0m[38;2;255;255;255m([0m[38;2;249;38;114m"[0m[38;2;230;219;116m2[0m[38;2;249;38;114m"[0m[38;2;255;255;255m)[0m[38;2;248;248;242m [0m[38;2;249;38;114mdo[0m[38;2;248;248;242m [0m[38;2;248;248;242m|[0m[38;2;253;151;31mconfig[0m[38;2;248;248;242m|[0m[m
[38;5;238m  41[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m  [0m[38;2;102;217;239mMACHINES[0m[38;2;248;248;242m.[0m[38;2;248;248;242meach [0m[38;2;249;38;114mdo[0m[38;2;248;248;242m [0m[38;2;248;248;242m|[0m[38;2;253;151;31mboxname[0m[38;2;248;248;242m,[0m[38;2;248;248;242m [0m[38;2;253;151;31mboxconfig[0m[38;2;248;248;242m|[0m[m
[38;5;238m  42[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m    config[0m[38;2;248;248;242m.[0m[38;2;248;248;242mvm[0m[38;2;248;248;242m.[0m[38;2;248;248;242mdefine boxname [0m[38;2;249;38;114mdo[0m[38;2;248;248;242m [0m[38;2;248;248;242m|[0m[38;2;253;151;31mbox[0m[38;2;248;248;242m|[0m[m
[38;5;238m  43[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m      box[0m[38;2;248;248;242m.[0m[38;2;248;248;242mvm[0m[38;2;248;248;242m.[0m[38;2;248;248;242mbox [0m[38;2;249;38;114m=[0m[38;2;248;248;242m boxconfig[0m[38;2;248;248;242m[[0m[38;2;246;240;128m:[0m[38;2;246;240;128mbox_name[0m[38;2;248;248;242m][0m[m
[38;5;238m  44[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m      box[0m[38;2;248;248;242m.[0m[38;2;248;248;242mvm[0m[38;2;248;248;242m.[0m[38;2;248;248;242mhost_name [0m[38;2;249;38;114m=[0m[38;2;248;248;242m boxconfig[0m[38;2;248;248;242m[[0m[38;2;246;240;128m:[0m[38;2;246;240;128mvm_name[0m[38;2;248;248;242m][0m[m
[38;5;238m  45[0m   [38;5;238mâ”‚[0m [m
[38;5;238m  46[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m      [0m[38;2;249;38;114mif[0m[38;2;248;248;242m boxconfig[0m[38;2;248;248;242m[[0m[38;2;246;240;128m:[0m[38;2;246;240;128mvm_name[0m[38;2;248;248;242m][0m[38;2;248;248;242m [0m[38;2;249;38;114m==[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mrouter3[0m[38;2;249;38;114m"[0m[m
[38;5;238m  47[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        box[0m[38;2;248;248;242m.[0m[38;2;248;248;242mvm[0m[38;2;248;248;242m.[0m[38;2;248;248;242mprovision [0m[38;2;249;38;114m"[0m[38;2;230;219;116mansible[0m[38;2;249;38;114m"[0m[38;2;248;248;242m [0m[38;2;249;38;114mdo[0m[38;2;248;248;242m [0m[38;2;248;248;242m|[0m[38;2;253;151;31mansible[0m[38;2;248;248;242m|[0m[m
[38;5;238m  48[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m          ansible[0m[38;2;248;248;242m.[0m[38;2;248;248;242mplaybook [0m[38;2;249;38;114m=[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mansible/provision.yml[0m[38;2;249;38;114m"[0m[m
[38;5;238m  49[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m          ansible[0m[38;2;248;248;242m.[0m[38;2;248;248;242minventory_path [0m[38;2;249;38;114m=[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mansible/hosts[0m[38;2;249;38;114m"[0m[m
[38;5;238m  50[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m          ansible[0m[38;2;248;248;242m.[0m[38;2;248;248;242mhost_key_checking [0m[38;2;249;38;114m=[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mfalse[0m[38;2;249;38;114m"[0m[m
:[K[K[38;5;238m  51[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m          ansible[0m[38;2;248;248;242m.[0m[38;2;248;248;242mlimit [0m[38;2;249;38;114m=[0m[38;2;248;248;242m [0m[38;2;249;38;114m"[0m[38;2;230;219;116mall[0m[38;2;249;38;114m"[0m[m
[38;5;238m  52[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        [0m[38;2;249;38;114mend[0m[m
[38;5;238m  53[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m      [0m[38;2;249;38;114mend[0m[m
[38;5;238m  54[0m   [38;5;238mâ”‚[0m [m
[38;5;238m  55[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m      boxconfig[0m[38;2;248;248;242m[[0m[38;2;246;240;128m:[0m[38;2;246;240;128mnet[0m[38;2;248;248;242m][0m[38;2;248;248;242m.[0m[38;2;248;248;242meach [0m[38;2;249;38;114mdo[0m[38;2;248;248;242m [0m[38;2;248;248;242m|[0m[38;2;253;151;31mipconf[0m[38;2;248;248;242m|[0m[m
[38;5;238m  56[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m        box[0m[38;2;248;248;242m.[0m[38;2;248;248;242mvm[0m[38;2;248;248;242m.[0m[38;2;248;248;242mnetwork [0m[38;2;249;38;114m"[0m[38;2;230;219;116mprivate_network[0m[38;2;249;38;114m"[0m[38;2;248;248;242m,[0m[38;2;248;248;242m ipconf[0m[m
[38;5;238m  57[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m      [0m[38;2;249;38;114mend[0m[m
[38;5;238m  58[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m    [0m[38;2;249;38;114mend[0m[m
[38;5;238m  59[0m   [38;5;238mâ”‚[0m [38;2;248;248;242m  [0m[38;2;249;38;114mend[0m[m
[38;5;238m  60[0m   [38;5;238mâ”‚[0m [38;2;249;38;114mend[0m[m
[38;5;238mâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[m
[7m(END)[27m[K[K[K[7m(END)[27m[K[K[?1l>[?1049l[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ 
[?2004l[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ 
[?2004l[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ 
[?2004l[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ vagrant up
[?2004l[0mBringing machine 'router1' up with 'virtualbox' provider...[0m
[0mBringing machine 'router2' up with 'virtualbox' provider...[0m
[0mBringing machine 'router3' up with 'virtualbox' provider...[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1m==> router1: Importing base box 'ubuntu/focal64'...[0m
[0m[K[0m[0mProgress: 90%[0m[0m[K[0m[1m==> router1: Matching MAC address for NAT networking...[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1m==> router1: Checking if box 'ubuntu/focal64' version '20230515.0.0' is up to date...[0m
[1m==> router1: Setting the name of the VM: 32_router1_1695012353842_57854[0m
[1m==> router1: Clearing any previously set network interfaces...[0m
[1m==> router1: Preparing network interfaces based on configuration...[0m
[0m    router1: Adapter 1: nat[0m
[0m    router1: Adapter 2: intnet[0m
[0m    router1: Adapter 3: intnet[0m
[0m    router1: Adapter 4: intnet[0m
[0m    router1: Adapter 5: hostonly[0m
[1m==> router1: Forwarding ports...[0m
[0m    router1: 22 (guest) => 2222 (host) (adapter 1)[0m
[1m==> router1: Running 'pre-boot' VM customizations...[0m
[1m==> router1: Booting VM...[0m
[1m==> router1: Waiting for machine to boot. This may take a few minutes...[0m
[0m    router1: SSH address: 127.0.0.1:2222[0m
[0m    router1: SSH username: vagrant[0m
[0m    router1: SSH auth method: private key[0m
[0m    router1: 
    router1: Vagrant insecure key detected. Vagrant will automatically replace
    router1: this with a newly generated keypair for better security.[0m
[0m    router1: 
    router1: Inserting generated public key within guest...[0m
[0m    router1: Removing insecure key from the guest if it's present...[0m
[0m    router1: Key inserted! Disconnecting and reconnecting using new SSH key...[0m
[1m==> router1: Machine booted and ready![0m
[1m==> router1: Checking for guest additions in VM...[0m
[0m    router1: The guest additions on this VM do not match the installed version of
    router1: VirtualBox! In most cases this is fine, but in rare cases it can
    router1: prevent things such as shared folders from working properly. If you see
    router1: shared folder errors, please make sure the guest additions within the
    router1: virtual machine match the version of VirtualBox you have installed on
    router1: your host and reload your VM.
    router1: 
    router1: Guest Additions Version: 6.1.38
    router1: VirtualBox Version: 7.0[0m
[1m==> router1: Setting hostname...[0m
[1m==> router1: Configuring and enabling network interfaces...[0m
[1m==> router1: Mounting shared folders...[0m
[0m    router1: /vagrant => /home/zoid/projects/otus/2023-04-linux/32[0m
[1;33m==> router2: You assigned a static IP ending in ".1" to this machine.
==> router2: This is very often used by the router and can cause the
==> router2: network to not work properly. If the network doesn't work
==> router2: properly, try changing this IP.[0m
[1m==> router2: Importing base box 'ubuntu/focal64'...[0m
[0m[K[0m[0mProgress: 60%[0m[0m[K[0m[0mProgress: 90%[0m[0m[K[0m[1m==> router2: Matching MAC address for NAT networking...[0m
[1;33m==> router2: You assigned a static IP ending in ".1" to this machine.
==> router2: This is very often used by the router and can cause the
==> router2: network to not work properly. If the network doesn't work
==> router2: properly, try changing this IP.[0m
[1m==> router2: Checking if box 'ubuntu/focal64' version '20230515.0.0' is up to date...[0m
[1m==> router2: Setting the name of the VM: 32_router2_1695012394674_93014[0m
[1m==> router2: Fixed port collision for 22 => 2222. Now on port 2200.[0m
[1m==> router2: Clearing any previously set network interfaces...[0m
[1m==> router2: Preparing network interfaces based on configuration...[0m
[0m    router2: Adapter 1: nat[0m
[0m    router2: Adapter 2: intnet[0m
[0m    router2: Adapter 3: intnet[0m
[0m    router2: Adapter 4: intnet[0m
[0m    router2: Adapter 5: hostonly[0m
[1m==> router2: Forwarding ports...[0m
[0m    router2: 22 (guest) => 2200 (host) (adapter 1)[0m
[1m==> router2: Running 'pre-boot' VM customizations...[0m
[1m==> router2: Booting VM...[0m
[1m==> router2: Waiting for machine to boot. This may take a few minutes...[0m
[0m    router2: SSH address: 127.0.0.1:2200[0m
[0m    router2: SSH username: vagrant[0m
[0m    router2: SSH auth method: private key[0m
[0m    router2: Warning: Connection reset. Retrying...[0m
[0m    router2: Warning: Remote connection disconnect. Retrying...[0m
[0m    router2: 
    router2: Vagrant insecure key detected. Vagrant will automatically replace
    router2: this with a newly generated keypair for better security.[0m
[0m    router2: 
    router2: Inserting generated public key within guest...[0m
[0m    router2: Removing insecure key from the guest if it's present...[0m
[0m    router2: Key inserted! Disconnecting and reconnecting using new SSH key...[0m
[1m==> router2: Machine booted and ready![0m
[1m==> router2: Checking for guest additions in VM...[0m
[0m    router2: The guest additions on this VM do not match the installed version of
    router2: VirtualBox! In most cases this is fine, but in rare cases it can
    router2: prevent things such as shared folders from working properly. If you see
    router2: shared folder errors, please make sure the guest additions within the
    router2: virtual machine match the version of VirtualBox you have installed on
    router2: your host and reload your VM.
    router2: 
    router2: Guest Additions Version: 6.1.38
    router2: VirtualBox Version: 7.0[0m
[1m==> router2: Setting hostname...[0m
[1m==> router2: Configuring and enabling network interfaces...[0m
[1m==> router2: Mounting shared folders...[0m
[0m    router2: /vagrant => /home/zoid/projects/otus/2023-04-linux/32[0m
[1;33m==> router3: You assigned a static IP ending in ".1" to this machine.
==> router3: This is very often used by the router and can cause the
==> router3: network to not work properly. If the network doesn't work
==> router3: properly, try changing this IP.[0m
[1;33m==> router3: You assigned a static IP ending in ".1" to this machine.
==> router3: This is very often used by the router and can cause the
==> router3: network to not work properly. If the network doesn't work
==> router3: properly, try changing this IP.[0m
[1m==> router3: Importing base box 'ubuntu/focal64'...[0m
[0m[K[0m[0mProgress: 90%[0m[0m[K[0m[1m==> router3: Matching MAC address for NAT networking...[0m
[1;33m==> router3: You assigned a static IP ending in ".1" to this machine.
==> router3: This is very often used by the router and can cause the
==> router3: network to not work properly. If the network doesn't work
==> router3: properly, try changing this IP.[0m
[1;33m==> router3: You assigned a static IP ending in ".1" to this machine.
==> router3: This is very often used by the router and can cause the
==> router3: network to not work properly. If the network doesn't work
==> router3: properly, try changing this IP.[0m
[1m==> router3: Checking if box 'ubuntu/focal64' version '20230515.0.0' is up to date...[0m
[1m==> router3: Setting the name of the VM: 32_router3_1695012436167_22334[0m
[1m==> router3: Fixed port collision for 22 => 2222. Now on port 2201.[0m
[1m==> router3: Clearing any previously set network interfaces...[0m
[1m==> router3: Preparing network interfaces based on configuration...[0m
[0m    router3: Adapter 1: nat[0m
[0m    router3: Adapter 2: intnet[0m
[0m    router3: Adapter 3: intnet[0m
[0m    router3: Adapter 4: intnet[0m
[0m    router3: Adapter 5: hostonly[0m
[1m==> router3: Forwarding ports...[0m
[0m    router3: 22 (guest) => 2201 (host) (adapter 1)[0m
[1m==> router3: Running 'pre-boot' VM customizations...[0m
[1m==> router3: Booting VM...[0m
[1m==> router3: Waiting for machine to boot. This may take a few minutes...[0m
[0m    router3: SSH address: 127.0.0.1:2201[0m
[0m    router3: SSH username: vagrant[0m
[0m    router3: SSH auth method: private key[0m
[0m    router3: 
    router3: Vagrant insecure key detected. Vagrant will automatically replace
    router3: this with a newly generated keypair for better security.[0m
[0m    router3: 
    router3: Inserting generated public key within guest...[0m
[0m    router3: Removing insecure key from the guest if it's present...[0m
[0m    router3: Key inserted! Disconnecting and reconnecting using new SSH key...[0m
[1m==> router3: Machine booted and ready![0m
[1m==> router3: Checking for guest additions in VM...[0m
[0m    router3: The guest additions on this VM do not match the installed version of
    router3: VirtualBox! In most cases this is fine, but in rare cases it can
    router3: prevent things such as shared folders from working properly. If you see
    router3: shared folder errors, please make sure the guest additions within the
    router3: virtual machine match the version of VirtualBox you have installed on
    router3: your host and reload your VM.
    router3: 
    router3: Guest Additions Version: 6.1.38
    router3: VirtualBox Version: 7.0[0m
[1m==> router3: Setting hostname...[0m
[1m==> router3: Configuring and enabling network interfaces...[0m
[1m==> router3: Mounting shared folders...[0m
[0m    router3: /vagrant => /home/zoid/projects/otus/2023-04-linux/32[0m
[1m==> router3: Running provisioner: ansible...[0m
[0m    router3: Running ansible-playbook...[0m
[0m
PLAY [OSPF] ********************************************************************
[0m[0m
TASK [Gathering Facts] *********************************************************
[0m[0m[0;32mok: [router2][0m
[0m[0m[0;32mok: [router3][0m
[0m[0m[0;32mok: [router1][0m
[0m[0m
TASK [install base tools] ******************************************************
[0m[0m[0;33mchanged: [router2][0m
[0m[0m[0;33mchanged: [router3][0m
[0m[0m[0;33mchanged: [router1][0m
[0m[0m
TASK [disable ufw service] *****************************************************
[0m[0m[0;33mchanged: [router2][0m
[0m[0m[0;33mchanged: [router1][0m
[0m[0m[0;33mchanged: [router3][0m
[0m[0m
TASK [add gpg frrouting.org] ***************************************************
[0m[0m[0;33mchanged: [router2][0m
[0m[0m[0;33mchanged: [router1][0m
[0m[0m[0;33mchanged: [router3][0m
[0m[0m
TASK [add frr repo] ************************************************************
[0m[0m[0;33mchanged: [router3][0m
[0m[0m[0;33mchanged: [router2][0m
[0m[0m[0;33mchanged: [router1][0m
[0m[0m
TASK [install FRR packages] ****************************************************
[0m[0m[0;33mchanged: [router3][0m
[0m[0m[0;33mchanged: [router1][0m
[0m[0m[0;33mchanged: [router2][0m
[0m[0m
TASK [set up forward packages across routers] **********************************
[0m[0m[0;33mchanged: [router1][0m
[0m[0m[0;33mchanged: [router2][0m
[0m[0m[0;33mchanged: [router3][0m
[0m[0m
TASK [base set up OSPF] ********************************************************
[0m[0m[0;33mchanged: [router1][0m
[0m[0m[0;33mchanged: [router2][0m
[0m[0m[0;33mchanged: [router3][0m
[0m[0m
TASK [set up OSPF] *************************************************************
[0m[0m[0;33mchanged: [router1][0m
[0m[0m[0;33mchanged: [router2][0m
[0m[0m[0;33mchanged: [router3][0m
[0m[0m
TASK [restart FRR] *************************************************************
[0m[0m[0;33mchanged: [router1][0m
[0m[0m[0;33mchanged: [router3][0m
[0m[0m[0;33mchanged: [router2][0m
[0m[0m
PLAY RECAP *********************************************************************
[0;33mrouter1[0m                    : [0;32mok=10  [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0;33mrouter2[0m                    : [0;32mok=10  [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
[0m[0m[0;33mrouter3[0m                    : [0;32mok=10  [0m [0;33mchanged=9   [0m unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

[0m[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ vagrant ssh router1
[?2004lWelcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-148-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Mon Sep 18 04:49:01 UTC 2023

  System load:     0.66              IPv4 address for enp0s10: 192.168.10.1
  Usage of /:      4.2% of 38.70GB   IPv4 address for enp0s16: 192.168.56.10
  Memory usage:    25%               IPv4 address for enp0s3:  10.0.2.15
  Swap usage:      0%                IPv4 address for enp0s8:  10.0.10.1
  Processes:       127               IPv4 address for enp0s9:  10.0.12.1
  Users logged in: 0


Expanded Security Maintenance for Applications is not enabled.

105 updates can be applied immediately.
62 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '22.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Mon Sep 18 04:48:42 2023 from 192.168.56.1
[01;32mvagrant@router1[00m:[01;34m~[00m$ ping -[K192.168.20.1
PING 192.168.20.1 (192.168.20.1) 56(84) bytes of data.
From 100.68.128.1 icmp_seq=1 Destination Host Unreachable
From 100.68.128.1 icmp_seq=2 Destination Host Unreachable
From 100.68.128.1 icmp_seq=3 Destination Host Unreachable
From 100.68.128.1 icmp_seq=4 Destination Host Unreachable
From 100.68.128.1 icmp_seq=5 Destination Host Unreachable
From 100.68.128.1 icmp_seq=6 Destination Host Unreachable
From 100.68.128.1 icmp_seq=7 Destination Host Unreachable
From 100.68.128.1 icmp_seq=8 Destination Host Unreachable
64 bytes from 192.168.20.1: icmp_seq=9 ttl=64 time=0.235 ms
64 bytes from 192.168.20.1: icmp_seq=10 ttl=64 time=0.361 ms
64 bytes from 192.168.20.1: icmp_seq=11 ttl=64 time=0.363 ms
64 bytes from 192.168.20.1: icmp_seq=12 ttl=64 time=0.347 ms
64 bytes from 192.168.20.1: icmp_seq=13 ttl=64 time=0.395 ms
64 bytes from 192.168.20.1: icmp_seq=14 ttl=63 time=0.543 ms
64 bytes from 192.168.20.1: icmp_seq=15 ttl=63 time=0.596 ms
^C
--- 192.168.20.1 ping statistics ---
15 packets transmitted, 7 received, +8 errors, 53.3333% packet loss, time 14223ms
rtt min/avg/max/mdev = 0.235/0.405/0.596/0.114 ms
[01;32mvagrant@router1[00m:[01;34m~[00m$ ping 192.168.20.1[C[C[C[C[C 192.168.20.1- 192.168.20.1I 192.168.20.1[C 192.168.20.11 192.168.20.19 192.168.20.12 192.168.20.1. 192.168.20.11 192.168.20.16 192.168.20.18 192.168.20.1. 192.168.20.11 192.168.20.10 192.168.20.1. 192.168.20.11 192.168.20.1
PING 192.168.20.1 (192.168.20.1) from 192.168.10.1 : 56(84) bytes of data.
64 bytes from 192.168.20.1: icmp_seq=1 ttl=63 time=0.567 ms
64 bytes from 192.168.20.1: icmp_seq=2 ttl=63 time=0.622 ms
64 bytes from 192.168.20.1: icmp_seq=3 ttl=63 time=0.617 ms
64 bytes from 192.168.20.1: icmp_seq=4 ttl=63 time=0.629 ms
^C
--- 192.168.20.1 ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3081ms
rtt min/avg/max/mdev = 0.567/0.608/0.629/0.024 ms
[01;32mvagrant@router1[00m:[01;34m~[00m$ 
[01;32mvagrant@router1[00m:[01;34m~[00m$ 
[01;32mvagrant@router1[00m:[01;34m~[00m$ 
[01;32mvagrant@router1[00m:[01;34m~[00m$ ping -I 192.168.10.1 192.168.20.1[1@n[1@o[1@h[1@u[C[1@p[1@ [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C > ping.txt &
[1] 6114
[01;32mvagrant@router1[00m:[01;34m~[00m$ nohup: ignoring input and redirecting stderr to stdout

[01;32mvagrant@router1[00m:[01;34m~[00m$ 
[01;32mvagrant@router1[00m:[01;34m~[00m$ 
[01;32mvagrant@router1[00m:[01;34m~[00m$ tail -f lo[K[Kping.txt 
PING 192.168.20.1 (192.168.20.1) from 192.168.10.1 : 56(84) bytes of data.
64 bytes from 192.168.20.1: icmp_seq=1 ttl=63 time=0.554 ms
64 bytes from 192.168.20.1: icmp_seq=2 ttl=63 time=0.764 ms
64 bytes from 192.168.20.1: icmp_seq=3 ttl=63 time=0.678 ms
64 bytes from 192.168.20.1: icmp_seq=4 ttl=63 time=0.658 ms
64 bytes from 192.168.20.1: icmp_seq=5 ttl=63 time=0.586 ms
64 bytes from 192.168.20.1: icmp_seq=6 ttl=63 time=0.408 ms
64 bytes from 192.168.20.1: icmp_seq=7 ttl=63 time=0.595 ms
^C
[01;32mvagrant@router1[00m:[01;34m~[00m$ logout
[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ vagrant ssh router1[K2
[?2004lWelcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-148-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Mon Sep 18 04:50:08 UTC 2023

  System load:     0.25              IPv4 address for enp0s10: 192.168.20.1
  Usage of /:      4.2% of 38.70GB   IPv4 address for enp0s16: 192.168.56.11
  Memory usage:    25%               IPv4 address for enp0s3:  10.0.2.15
  Swap usage:      0%                IPv4 address for enp0s8:  10.0.10.2
  Processes:       127               IPv4 address for enp0s9:  10.0.11.2
  Users logged in: 0


Expanded Security Maintenance for Applications is not enabled.

105 updates can be applied immediately.
62 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '22.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


Last login: Mon Sep 18 04:48:42 2023 from 192.168.56.1
[01;32mvagrant@router2[00m:[01;34m~[00m$ sudo -o[Ki
root@router2:~# 
root@router2:~# 
root@router2:~# 
root@router2:~# tcpdump -iu[K enp0s8
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on enp0s8, link-type EN10MB (Ethernet), capture size 262144 bytes



04:50:23.216342 IP 10.0.10.1 > ospf-all.mcast.net: OSPFv2, Hello, length 48
04:50:23.672582 IP router2 > ospf-all.mcast.net: OSPFv2, Hello, length 48



^C
2 packets captured
2 packets received by filter
0 packets dropped by kernel
root@router2:~# 
root@router2:~# 
root@router2:~# 
root@router2:~# tcpdump -i enp0s8[K98[K
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on enp0s9, link-type EN10MB (Ethernet), capture size 262144 bytes
04:50:33.672603 IP router2 > ospf-all.mcast.net: OSPFv2, Hello, length 48
04:50:34.639200 IP 192.168.10.1 > router2: ICMP echo request, id 3, seq 39, length 64
04:50:34.639227 IP router2 > 192.168.10.1: ICMP echo reply, id 3, seq 39, length 64
04:50:35.663135 IP 192.168.10.1 > router2: ICMP echo request, id 3, seq 40, length 64
04:50:35.663163 IP router2 > 192.168.10.1: ICMP echo reply, id 3, seq 40, length 64
04:50:36.687335 IP 192.168.10.1 > router2: ICMP echo request, id 3, seq 41, length 64
04:50:36.687378 IP router2 > 192.168.10.1: ICMP echo reply, id 3, seq 41, length 64
^C
7 packets captured
7 packets received by filter
0 packets dropped by kernel
root@router2:~# 
root@router2:~# 
root@router2:~# # pings from router3
root@router2:~# logout
[01;32mvagrant@router2[00m:[01;34m~[00m$ logout
[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ vagrant destroy -f
[?2004l[1;33m==> router3: You assigned a static IP ending in ".1" to this machine.
==> router3: This is very often used by the router and can cause the
==> router3: network to not work properly. If the network doesn't work
==> router3: properly, try changing this IP.[0m
[1;33m==> router3: You assigned a static IP ending in ".1" to this machine.
==> router3: This is very often used by the router and can cause the
==> router3: network to not work properly. If the network doesn't work
==> router3: properly, try changing this IP.[0m
[1m==> router3: Forcing shutdown of VM...[0m
[1m==> router3: Destroying VM and associated drives...[0m
[1;33m==> router2: You assigned a static IP ending in ".1" to this machine.
==> router2: This is very often used by the router and can cause the
==> router2: network to not work properly. If the network doesn't work
==> router2: properly, try changing this IP.[0m
[1m==> router2: Forcing shutdown of VM...[0m
[1m==> router2: Destroying VM and associated drives...[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1;33m==> router1: You assigned a static IP ending in ".1" to this machine.
==> router1: This is very often used by the router and can cause the
==> router1: network to not work properly. If the network doesn't work
==> router1: properly, try changing this IP.[0m
[1m==> router1: Forcing shutdown of VM...[0m
[1m==> router1: Destroying VM and associated drives...[0m
[?2004h[01;32mzoid@npc[00m:[01;34m~/projects/otus/2023-04-linux/32[00m$ [?2004l
exit

Script done on 2023-09-18 07:51:12+03:00 [COMMAND_EXIT_CODE="0"]
